
# Исследование JVM через VisualVM

| Статус | Heap | Metaspace | Classes |
| --- | --- | --- | --- |
| 22:42:58.204148: loading io.vertx <br> 22:42:58.634628: loaded 529 classes | ![](/jvm2/img//vmheap/heap_22-42-58.png) <br> Общий размер heap 268Mb <br> Задействовано 16Mb | ![](/jvm2/img//vmmeta/meta_22-42-58.png) <br>  Общий размер Metaspace 15.8Mb <br> Под системные и вновь загруженные классы задействовано 14.9Mb | ![](/jvm2/img//vmclass/class_22-42-58.png) <br> Всего загружен 2201 класс|
| 22:43:01.642029: loading io.netty | ![](/jvm2/img//vmheap/heap_22-43-01.png) <br> Задействованная область heap медленно увеличивается - уже 36Mb <br> Общий размер heap без изменений | ![](/jvm2/img//vmmeta/meta_22-43-01.png) <br> Общий размер Metaspace и задействованная область без изменений | ![](/jvm2/img//vmclass/class_22-43-01.png) <br> Загружен еще 651 класс <br> Всего загружено 2852 класса|
| 22:43:02.288914: loaded 2117 classes | ![](/jvm2/img//vmheap/heap_22-43-02.png) <br> Задействованная область heap продолжает увеличиваться - уже 42.9Mb <br> Общий размер heap без изменений | ![](/jvm2/img//vmmeta/meta_22-43-02.png) <br> Задействованная область Metaspace выросла до 20.9Mb и превысила общий размер <br> Как следствие - общий размер Metaspace увеличился до 22Mb | ![](/jvm2/img//vmclass/class_22-43-02.png) <br> Загружен еще 2081 класс <br> Всего загружено 4933 класса |
| 22:43:05.292043: loading org.springframework <br> 22:43:05.527955: loaded 869 classes | ![](/jvm2/img//vmheap/heap_22-43-05.png) <br> Задействованная область heap продолжает увеличиваться - уже 71.3Mb <br> Общий размер heap без изменений | ![](/jvm2/img//vmmeta/meta_22-43-05.png) <br> Мetaspace без изменений | ![](/jvm2/img//vmclass/class_22-43-05.png) <br> Загружено еще 134 класса <br> Всего загружено 5067 классов |
| 22:43:08.531629: now see heap <br> 22:43:08.532166: creating 5000000 objects <br> 22:43:08.803490: created | ![](/jvm2/img//vmheap/heap_22-43-08.png) <br> Задействованная область heap продолжает расти - уже 83.8Mb <br> Общий размер heap по прежнему без изменений | ![](/jvm2/img//vmmeta/meta_22-43-08.png) <br> Мetaspace без изменений | ![](/jvm2/img//vmclass/class_22-43-08.png) <br> Загружено еще 768 классов <br> Всего загружено 5835 классов |
| 22:43:11.806612: creating 5000000 objects | ![](/jvm2/img//vmheap/heap_22-43-11.png) <br> Из-за вновь созданных 5 млн. объектов задействованная область heap увеличилась более чем в 2 раза - до 189.7Mb, что превысило 50% от общего размера heap - как следствие, общий размер тоже увеличился - до 279.9Mb | ![](/jvm2/img//vmmeta/meta_22-43-11.png) <br> Задействованная область Metaspace выросла до 32.4Mb и превисила общий размер - в результе он тоже увеличился до 33.6Mb | ![](/jvm2/img//vmclass/class_22-43-11.png) <br> Загружен еще 1 класс <br> Всего загружено 5836 классов |
| 22:43:12.074669: created | ![](/jvm2/img//vmheap/heap_22-43-12.png) <br> Создано еще 5 млн объектов - задействованная область heap снова увеличилась более чем в два раза - уже 447.4Mb и опять превысила общий размер heap и он увеличился до 508.5Mb | ![](/jvm2/img//vmmeta/meta_22-43-12.png) <br> Задействованный размер Metaspace незначительно увеличился до 32.43Mb <br> Общий размер без изменений | Загруженные классы без изменений - новые не загружались |
| 22:43:15.138053: creating 5000000 objects <br> 22:43:15.415529: created | ![](/jvm2/img//vmheap/heap_22-43-15.png) <br> Создано еще 5 млн объектов и задействованная область увеличилась до 653Mb и снова превысила общий размер heap <br> Ввиду участившейся тенденции превышения общего размера heap - он сильно увеличился до 1626Mb | ![](/jvm2/img//vmmeta/meta_22-43-15.png) <br> Общий размер Metaspace без изменений <br> Задействованный размер незначительно увеличился до 32.44Mb | ![](/jvm2/img//vmclass/class_22-43-15.png) <br> Загруженные классы без изменений - новые не загружались |